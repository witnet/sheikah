<template>
  <div class="fieldset">
    <header class="header">
      <div class="texts">
        <p class="title" :class="[type]">{{ title }}</p>
        <p v-if="subtitle" class="subtitle">{{ subtitle }}</p>
        <p v-if="helper" class="helper">{{ helper }}</p>
      </div>
      <font-awesome-icon
        v-if="closable"
        class="icon cross close"
        icon="times"
        @click="onClose"
      />
    </header>
    <div :class="[type]">
      <slot></slot>
    </div>
  </div>
</template>

<script>
export default {
  name: 'Fieldset',
  props: {
    /**
     * Main title
     */
    title: {
      type: String,
      required: true,
    },
    /**
     * Secondary title
     */
    subtitle: {
      type: String,
      default: '',
    },
    /**
     * Terciary title
     */
    helper: {
      type: String,
      default: '',
    },
    type: {
      type: String,
      default: '',
    },
    closable: {
      type: Boolean,
    },
    onClose: {
      type: Function,
      required: false,
      default: () => {},
    },
  },
}
</script>

<style scoped lang="scss">
@import '@/styles/_colors.scss';

.fieldset {
  .header {
    display: flex;
    justify-content: space-between;
    margin-bottom: 14px;

    .texts {
      display: flex;

      .title {
        color: $alt-grey-5;
        font-size: 16px;
        font-weight: medium;

        &.help {
          font-size: 13px;
        }
      }

      .subtitle {
        color: $grey-3;
        font-style: italic;
        font-weight: medium;
        margin-left: 8px;
      }

      .helper {
        align-self: center;
        color: $alt-grey-5;
        font-size: 10px;
        font-style: italic;
        margin-left: 25px;
        opacity: 50%;
      }
    }

    .close {
      align-self: flex-end;
      cursor: pointer;
      font-size: 14px;
      opacity: 0.4;
    }
  }

  .help {
    // default style for paragraphs added in the slot
    // stylelint-disable-next-line
    ::v-deep p {
      color: #66648c;
      font-size: 13px;
      font-style: italic;
      font-weight: lighter;
      line-height: 1.5;
      margin-bottom: 8px;
    }
  }
}
</style>

<docs>
### Examples

#### Default
```jsx
  <Fieldset
    title="title"
    subtitle="subtitle"
    helper="helper"
  >
    <div :style="{ width: '200px', height: '100px' }">Content</div>
  </Fieldset>
```

#### Text
```jsx
  <Fieldset
    title="title"
    type="text"
  >
    <p :style="{ width: '200px', height: '100px' }">Text content</p>
  </Fieldset>
```

</docs>
